### メッセージとインタフェース

## メッセージとは

メッセージはクラスとクラスの協力をするための手段です。    
メッセージは送ればいいだけでメッセージを受信するクラスがどのように実装されているか考えなくていいので結合度が低く、凝集度が高くなります。
メソッドと違う点はメソッドは実行時点で継承の場合も考慮し、どのクラスのメソッドが実行されるか明確にする反面、メッセージはどのクラスが実行されるか考慮しないことです。

## インタフェースとは

メッセージを受信するために公開するメソッドの集合

## いいインタフェースを作るための原則

1. ディミッター法則(Law of Demeter)
簡単に言うと「知らない人に声をかけるな」と「必ず近隣の人だけと話し合う」こと。  
実装で言うとAクラスがBクラスのインスタンスCクラスを使わないこと。例) B.C.xx() (NG)   
この法則を守ると保守性が高いコードを得られる。    
2. 聞かずに命令する
メッセージを送信する際にはメッセージを受信する側の状態(Instance)は考慮せず送ること。   
メッセージ受信側の状態を考慮すると、メッセージ送信と受信側に結合度が高くなる。   
例) if(B.getxxx) B.B1() else B.B2()
3. 意図を表すインタフェース
インタフェースの名前を付ける際にはそのインタフェースがどうやってするかよりは何をするにより、名前を付けること。  
例えば)ある期間に合ってはまるかによって割引かどうか判定するインタフェースの場合は、期間による割引有無チェックではなく割引有無チェックにすること
どうやってするかによってインタフェースの名前を付けると以下の二つの悪いところがある。
	+ 実装方法が変わるとインタフェースの名前を変える必要がある。
	+ インタフェースの名前がばらばらなため、インタフェースと抽象化する場合インタフェースの名前を統一する必要がある。   
4. 命令とクエリの分離
命令はクラスの状態を変更すること、クエリはクラスの状態により結果を表示すること。
命令は結果を表してはいけない。また、クエリはクラスの状態を変更してはいけない。   
もし、クエリがクラスの状態を変更して1回の結果と2回の結果が違うことになる場合、そのバグは見つかりにくくバグを起こす可能性が高いです。   
例) 出力メソッドprintがクラスの状態を変更し、結果が変わる等


## 感想